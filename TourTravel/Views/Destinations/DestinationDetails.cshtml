@model TourTravel.ViewModel.DestinationDetailsViewModel

@await Component.InvokeAsync("HeroSection")
<div class="destination-single py-120">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="destination-single-img">
                    <img src="@Model.CityCoverImage" alt="@Model.CityCoverImage">
                </div>
                <h2 class="destination-single-title">@Model.CityName</h2>
                <p class="mt-20">
                    @Html.Raw(Model.CityDescription)
                </p>

                <div class="destination-single-gallery">
                    <h3>Destination Gallery</h3>
                    <p class="mt-10">
                        Capture the essence of this beautiful destination through our gallery. Each photograph tells a story —
                        from breathtaking landscapes and iconic landmarks to vibrant local life. Let these images inspire your
                        next adventure and give you a glimpse of what makes this place truly unforgettable.
                    </p>
                    <div class="row mt-20 popup-gallery">
                        @foreach (var img in Model.Gallery)
                        {
                            <div class="col-md-4">
                                <div class="destination-single-gallery-img">
                                    <img src="@img.MediumUrl" alt="Gallery image" />
                                    <a class="popup-img" href="@img.MediumUrl"><i class="far fa-plus"></i></a>
                                </div>
                            </div>
                        }
                    </div>
                </div>

                <div class="destination-single-map">
                    <h3>Location Map</h3>
                    <p class="mt-20">
                        Use the map below to easily locate nearby attractions, restaurants, and hidden gems waiting to be discovered.
                        Whether you’re planning your next adventure or simply exploring virtually, this map will help you get a closer
                        look at everything that makes this place truly special.
                    </p>
                    @*   @if (!string.IsNullOrEmpty(Model.MapUrl))
                    {
                    <iframe src="@Model.MapUrl" width="100%" height="450" style="border:0;" allowfullscreen loading="lazy"></iframe>

                    } *@
                    @{
                        // Construct the Google Maps embed URL dynamically 
                        string googleMapUrl = $"https://www.google.com/maps/embed/v1/place?key=AIzaSyBF2784voy6go8CoGUbLCWdEZw0alX8fHI&q={Model.Latitude},{Model.Longitude}&zoom=12";
                    }

                    <iframe width="100%"
                            height="400"
                            style="border:0"
                            loading="lazy"
                            allowfullscreen
                            referrerpolicy="no-referrer-when-downgrade"
                            src="@googleMapUrl">
                    </iframe>

                </div>
            </div>

            <div class="col-lg-4">
                       @*    @await Component.InvokeAsync("PackageCategories")  *@
                @await Component.InvokeAsync("PackageCategories", new { id = @Model.Id })

             @await Component.InvokeAsync("FeaturedTours")
                @*
                <div class="widget">
                    <h4 class="widget-title">Download</h4>
                    <div class="widget-download">
                        <a href="#"><i class="far fa-file-pdf"></i> Travel Direction</a>
                        <a href="#"><i class="far fa-file-pdf"></i> Country Info</a>
                    </div>
                </div>
                <div class="widget-banner">
                    <img src="/assets/img/widget/banner.jpg" alt="">
                    <div class="banner-content">
                        <h2>Get <span>35% Off</span> On Norway Lake Tour</h2>
                    </div>
                </div> *@
            </div>
        </div>
    </div>
</div>






@*

                        @model TourTravel.ViewModel.DestinationDetailsViewModel

@await Component.InvokeAsync("HeroSection")

<div class="destination-single py-120">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">

                <h2 class="destination-single-title text-center mb-5">
                    Explore @Model.CityName
                </h2>

                <!-- ✅ Cover Photo -->
                @if (!string.IsNullOrEmpty(Model.CityCoverImage))
                {
                    <div class="destination-cover mb-5">
                        <img src="@Model.CityCoverImage"
                             alt="@Model.CityName"
                             class="w-100 rounded shadow-sm"
                             style="max-height: 400px; object-fit: cover;">
                    </div>
                }

                <!-- ✅ City Description -->
                @if (!string.IsNullOrEmpty(Model.CityDescription))
                {
                    <div class="destination-description mb-4">
                        @Html.Raw(Model.CityDescription)
                    </div>
                }

                <!-- ✅ Gallery Section -->
                @if (Model.Gallery != null && Model.Gallery.Any())
                {
                    <h3 class="mb-3">Gallery</h3>
                    <div class="row g-3">
                        @foreach (var img in Model.Gallery)
                        {
                            <div class="col-6 col-md-4">
                                <a href="@img.OriginalUrl" target="_blank">
                                    <img src="@img.MediumUrl"
                                         alt="Destination Image"
                                         class="img-fluid rounded shadow-sm w-100"
                                         style="height: 200px; object-fit: cover;">
                                </a>
                            </div>
                        }
                    </div>
                }

                <!-- ✅ Map Section -->
                <div class="destination-single-map mt-5">
                    <h3>Location Map</h3>
                    <p class="mt-2">
                        Explore the location of @Model.CityName on the map below.
                    </p>

                    @if (!string.IsNullOrEmpty(Model.MapUrl))
                    {
                        <iframe src="@Model.MapUrl"
                                width="100%"
                                height="450"
                                style="border:0;"
                                allowfullscreen
                                loading="lazy"
                                referrerpolicy="no-referrer-when-downgrade"></iframe>
                    }
                </div>
            </div>

            <!-- ✅ Sidebar -->
            <div class="col-lg-4">
                @await Component.InvokeAsync("PackageCategories")
                @await Component.InvokeAsync("FeaturedTours")

                <div class="widget">
                    <h4 class="widget-title">Download</h4>
                    <div class="widget-download">
                        <a href="#"><i class="far fa-file-pdf"></i> Travel Direction</a>
                        <a href="#"><i class="far fa-file-pdf"></i> Country Info</a>
                    </div>
                </div>

                <div class="widget-banner">
                    <img src="/assets/img/widget/banner.jpg" alt="">
                    <div class="banner-content">
                        <h2>Get <span>35% Off</span> On Norway Lake Tour</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
 *@
