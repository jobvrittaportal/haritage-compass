@model TourTravel.ViewModel.TourGuideViewModel
@{
    bool showHeading = ViewData["ShowHeading"] as bool? ?? true;
}

<div class="guide-area py-120">
    <div class="container">
        <div class="row">
            @if (showHeading)
            {
                <div class="col-lg-6 mx-auto">
                    <div class="site-heading text-center">
                        <span class="site-title-tagline">Tour Guides</span>
                        <h2 class="site-title">Meet Our Tour Guides</h2>
                        <div class="heading-divider"></div>
                        <p>
                            It is a long established fact that a reader will be distracted by the readable content
                            of a page when looking at its layout.
                        </p>
                    </div>
                </div>
            }
        </div>
        @* -------------------- EMPTY STATE -------------------- *@
        @if (Model.TourGuides == null || !Model.TourGuides.Any())
        {
            <div class="row">
                <div class="col-12 text-center py-5">
                    <img src="https://cdn-icons-png.flaticon.com/512/4076/4076500.png"
                         width="120" class="opacity-75 mb-3" />

                    <h3 class="text-muted">No Tour Guide Found</h3>
                    <p class="text-muted">Please check back later.</p>
                </div>
            </div>
        }
        else{
        <div class="row">
            @foreach(var item in Model.TourGuides)
            {
                <div class="col-md-6 col-lg-3">
                    <div class="team-item active">
                        <img src="@item.ImageUrl" alt="@item.Name" style="width:340px; height:250px";>
                        <div class="team-content">
                            <div class="team-social">
                                @if (!string.IsNullOrEmpty(item.Facebook))
                                {
                                    <a href="@item.Facebook" target="_blank"><i class="fab fa-facebook-f"></i></a>
                                }
                                @if (!string.IsNullOrEmpty(item.Twitter))
                                {
                                    <a href="@item.Twitter" target="_blank"><i class="fab fa-twitter"></i></a>
                                }
                                @if (!string.IsNullOrEmpty(item.Instagram))
                                {
                                    <a href="@item.Instagram" target="_blank"><i class="fab fa-instagram"></i></a>
                                }
                                @if (!string.IsNullOrEmpty(item.LinkedIn))
                                {
                                    <a href="@item.LinkedIn" target="_blank"><i class="fab fa-linkedin"></i></a>
                                }
                                @if (!string.IsNullOrEmpty(item.YouTube))
                                {
                                    <a href="@item.YouTube" target="_blank"><i class="fab fa-youtube"></i></a>
                                }
                            </div>
                            <div class="team-bio">
                                <a asp-controller="Pages" asp-action="GuideDetails" asp-route-id="@item.Id">@item.Name</a>
                                <p>@item.Role</p>
                            </div>
                        </div>
                    </div>
                </div>
            }
            
        </div>
        @if (!Model.ShowHeading)
        {
            @if (ViewBag.TotalPages > 1)
            {
                <nav aria-label="Page navigation">
                    <ul class="pagination justify-content-center">
                        <li class="page-item @(ViewBag.CurrentPage <= 1 ? "disabled" : "")">
                            <a class="page-link"
                               href="@Url.Action("Guide", "Pages", new { search = ViewBag.Search, currentPage = ViewBag.CurrentPage - 1 })">Previous</a>
                        </li>

                        @for (int i = 1; i <= ViewBag.TotalPages; i++)
                        {
                            <li class="page-item @(ViewBag.CurrentPage == i ? "active" : "")">
                                <a class="page-link"
                                   href="@Url.Action("Guide", "Pages", new { search = ViewBag.Search, currentPage = i })">
                                    @i
                                </a>
                            </li>
                        }

                        <li class="page-item @(ViewBag.CurrentPage >= ViewBag.TotalPages ? "disabled" : "")">
                            <a class="page-link"
                               href="@Url.Action("Guide", "Pages", new { search = ViewBag.Search, currentPage = ViewBag.CurrentPage + 1 })">
                                Next
                            </a>
                        </li>
                    </ul>
                </nav>
            }
        }
        }
    </div>
    </div>
</div>
