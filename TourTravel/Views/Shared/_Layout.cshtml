<!DOCTYPE html>
<html lang="en">

<head>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Dynamic SEO -->
    <title>@(ViewBag.Title ?? "Heritage Compass")</title>
    <meta name="description" content="@(ViewBag.Description ?? "Are you Looking for Best Destinations & Tours in CityName? Heritage Compass is Best Place to Book. Your Ultimate Adventure Awaits. Book Your Tour Today!")">
    <meta name="keywords" content="@(ViewBag.Keywords ?? "Varanasi, Agra, Best Tours in Varanasi")">

    <!-- Social Sharing (OpenGraph) -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="website">
    <meta property="og:title" content="@(ViewBag.Title ?? "Heritage Compass")">
    <meta property="og:description" content="@(ViewBag.Description ?? "Are you Looking for Best Destinations & Tours in CityName? Heritage Compass is Best Place to Book. Your Ultimate Adventure Awaits. Book Your Tour Today!")">
    <meta property="og:url" content="@Context.Request.Scheme://@Context.Request.Host@Context.Request.Path">
    <meta property="og:site_name" content="Heritage Compass">
    <meta property="article:modified_time" content="@DateTime.Now">
    <meta property="og:image" content="@(string.IsNullOrEmpty(ViewBag.Image) ? $"{Context.Request.Scheme}://{Context.Request.Host}/img/feature.jpg" : ViewBag.Image)" />
    <meta property="og:image:width" content="@(ViewBag.ImageWidth ?? 1080)">
    <meta property="og:image:height" content="@(ViewBag.ImageHeight ?? 480)">
    <meta name="twitter:card" content="summary_large_image">

    <!-- favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="~/assets/img/logo/favicon.png">

    <!-- CSS -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/assets/css/fontawesome.min.css" rel="stylesheet" />
    <link href="/assets/css/themify-icons.css" rel="stylesheet" />
    <link href="/assets/css/icofont.min.css" rel="stylesheet" />
    <link href="/assets/css/flaticon.css" rel="stylesheet" />
    <link href="/assets/css/magnific-popup.css" rel="stylesheet" />
    <link href="/assets/css/owl.carousel.min.css" rel="stylesheet" />
    <link href="/assets/css/owl.theme.default.min.css" rel="stylesheet" />
    <link href="/assets/css/nice-select.min.css" rel="stylesheet" />
    <link href="/assets/css/jquery-ui.min.css" rel="stylesheet" />
    <link href="/assets/css/animate.min.css" rel="stylesheet" />
    <link href="/assets/css/style.css" rel="stylesheet" />

    <!-- ✅ Select2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    @* <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" /> *@

    <style>
        /* ✅ Make Select2 full width and match Bootstrap height */
        .select2-container {
            width: 100% !important;
        }

        .select2-container--default .select2-selection--single {
            height: 50px !important;
            display: flex;
            align-items: center;
            border: 1px solid #ced4da;
            border-radius: 0.375rem;
        }

        .select2-container--default .select2-selection__arrow {
            height: 48px !important;
        }

        .select2-selection__rendered {
            line-height: 48px !important;
        }
    </style>

</head>

<body>

    <!-- preloader -->
    <div class="preloader">
        <div class="loader">
            <div class="loader-box-1"></div>
            <div class="loader-box-2"></div>
        </div>
    </div>
    <!-- preloader end -->
    @await Component.InvokeAsync("Header")

    <main class="main">
        @RenderBody()
    </main>

    @await Component.InvokeAsync("Footer")

    <!-- scroll-top -->
    <a href="#" id="scroll-top"><i class="far fa-angle-double-up"></i></a>

    <!-- Toast Message -->
    <div class="position-fixed top-0 end-0 p-3" style="z-index: 1100">
        <div id="toastMessage" class="toast align-items-center border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body"></div>
                <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>

    <!-- JS -->
    <script src="/assets/js/jquery-3.6.0.min.js"></script>
    <script src="/assets/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/jquery.easing.min.js"></script>
    <script src="/assets/js/jquery.appear.js"></script>
    <script src="/assets/js/modernizr.min.js"></script>
    <script src="/assets/js/owl.carousel.min.js"></script>
    <script src="/assets/js/jquery.nice-select.min.js"></script>
    <script src="/assets/js/jquery-ui.min.js"></script>
    <script src="/assets/js/jquery.magnific-popup.min.js"></script>
    <script src="/assets/js/isotope.pkgd.min.js"></script>
    <script src="/assets/js/imagesloaded.pkgd.min.js"></script>
    <script src="/assets/js/wow.min.js"></script>
    <script src="/assets/js/count-to.js"></script>
    <script src="/assets/js/main.js"></script>

    <!-- ✅ Select2 JS (after jQuery) -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>



    @await RenderSectionAsync("Scripts", required: false)
    @if (ViewBag.Page == "Home")
    {
        <script>
                $(document).ready(function () {
                var $heroSlider = $('.hero-slider');

                if ($heroSlider.length) {
                    // Destroy existing owl carousel initialized by main.js
                    if ($heroSlider.hasClass('owl-loaded')) {
                        $heroSlider.trigger('destroy.owl.carousel');
                        $heroSlider.removeClass('owl-loaded owl-hidden');
                        $heroSlider.find('.owl-stage-outer').children().unwrap();
                    }

                    // Get rotation time from the data attribute (seconds → milliseconds)
                    var rotation = $heroSlider.data('rotation') ? parseInt($heroSlider.data('rotation')) * 1000 : 5000;

                    // Re-initialize hero slider with your dynamic timeout
                    $heroSlider.owlCarousel({
                        loop: true,
                        nav: true,
                        dots: false,
                        margin: -1,
                        autoplay: true,
                        autoplayHoverPause: true,
                        autoplayTimeout: rotation, // ✅ dynamic from Razor
                        items: 1,
                        navText: [
                            "<i class='far fa-arrow-left'></i>",
                            "<i class='far fa-arrow-right'></i>"
                        ]
                    });

                    // Re-init WOW animations on slide change
                    $heroSlider.on('changed.owl.carousel', function () {
                        new WOW().init();
                    });
                }
            });
        </script>
    }
    <script>
        function showToast(message, type = "success") {

            let bgClass = "bg-success";

            if (type === "error") bgClass = "bg-danger";
            else if (type === "warning") bgClass = "bg-warning";
            else if (type === "info") bgClass = "bg-info";

            let toastEl = $('#toastMessage');

            // Remove old BG classes only
            toastEl.removeClass("bg-success bg-danger bg-warning bg-info");

            // Always white text
            toastEl.addClass(bgClass + " text-white");

            // Set message
            toastEl.find(".toast-body").html(message);

            // Initialize & Show Toast
            let bsToast = new bootstrap.Toast(toastEl[0], {
                delay: 3000
            });

            bsToast.show();
        }
    </script>


</body>
</html>
